<html> 
<head> 
    <title>Hello World</title> 
    <script src="AIRAliases.js" type="text/javascript"></script>
    <script type="text/javascript"> 
        function init() { 
             var target = document.getElementById('target'); 
             target.addEventListener("dragenter", dragEnterOverHandler); 
             target.addEventListener("dragover", dragEnterOverHandler); 
             target.addEventListener("drop", dropHandler); 

             var source = document.getElementById('source'); 
             source.addEventListener("dragstart", dragStartHandler); 
             source.addEventListener("dragend", dragEndHandler); 

             emptyRow = document.getElementById("emptyTargetRow"); 
         } 

         function dragStartHandler(event){         
             event.dataTransfer.effectAllowed = "copy"; 
         } 

         function dragEndHandler(event){ 
             air.trace(event.type + ": " + event.dataTransfer.dropEffect); 
         } 

         function dragEnterOverHandler(event){ 
             event.preventDefault(); 
         }     

         var emptyRow;
         function dropHandler(event){ 
             for(var prop in event){ 
                 air.trace(prop + " = " + event[prop]); 
             } 
             var row = document.createElement('tr'); 
             row.innerHTML = "<td>" + event.dataTransfer.getData("text/plain") + "</td>" + 
                 "<td>" + event.dataTransfer.getData("text/html") + "</td>" + 
                 "<td>" + event.dataTransfer.getData("text/uri-list") + "</td>" + 
                 "<td>" + event.dataTransfer.getData("application/x-vnd.adobe.air.file-list") + 
                 "</td>"; 
                 
             // if(air.NativeProcess.isSupported){
             //          //var nativeProcessStartupInfo = new air.NativeProcessStartupInfo();
             //          var file = air.File.applicationDirectory.resolvePath("sass");
             //          nativeProcessStartupInfo.executable = file;
             //          
             //          var processArgs = new air.Vector["<String>"]();
             //          processArgs.push("");
             //          processArgs.push();
             //          processArgs.push();
             //          nativeProcessStartupInfo.arguments = processArgs;
             //          
             //          process = new air.NativeProcess();
             //          process.addEventListener(air.ProgressEvent.STANDARD_OUTPUT_DATA, onOutputData);
             //          process.addEventListener(air.ProgressEvent.STANDARD_ERROR_DATA, onErrorData);
             //          process.addEventListener(air.NativeProcessExitEvent.EXIT, onExit);
             //          process.addEventListener(air.IOErrorEvent.STANDARD_OUTPUT_IO_ERROR, onIOError);
             //          process.addEventListener(air.IOErrorEvent.STANDARD_ERROR_IO_ERROR, onIOError);
             //          
             //          process.start(nativeProcessStartupInfo);
             //      }

             var imageCell = document.createElement('td'); 
             if((event.dataTransfer.types.toString()).search("image/x-vnd.adobe.air.bitmap") > -1){ 
                 imageCell.appendChild(event.dataTransfer.getData("image/x-vnd.adobe.air.bitmap")); 
             } 
             row.appendChild(imageCell); 
             var parent = emptyRow.parentNode; 
             parent.insertBefore(row, emptyRow);
        }
        
        function onOutputData()
        {
          air.trace("Got: ", process.standardOutput.readUTFBytes(process.standardOutput.bytesAvailable)); 
        }

        function onErrorData(event)
        {
          air.trace("ERROR -", process.standardError.readUTFBytes(process.standardError.bytesAvailable)); 
        }

        function onExit(event)
        {
          air.trace("Process exited with ", event.exitCode);
        }

        function onIOError(event)
        {
          air.trace(event.toString());
        }
    </script>
</head> 
<body onLoad="init()" style="padding:5px">  
<div> 
    <h1>Source</h1> 
       <p>Items to drag:</p> 
    <ul id="source"> 
         <li>Plain text.</li> 
           <li>HTML <b>formatted</b> text.</li> 
           <li>A <a href="http://www.adobe.com">URL.</a></li> 
           <li><img src="icons/AIRApp_16.png" alt="An image"/></li> 
           <li style="-webkit-user-drag:none;"> 
         Uses "-webkit-user-drag:none" style. 
           </li> 
           <li style="-webkit-user-select:none;"> 
         Uses "-webkit-user-select:none" style. 
           </li> 
 
       </ul> 
</div> 
<div id="target" style="border-style:dashed;"> 
    <h1 >Target</h1> 
       <p>Drag items from the source list (or elsewhere).</p> 
       <table id="displayTable" border="1"> 
         <tr><th>Plain text</th><th>Html text</th><th>URL</th><th>File list</th><th>Bitmap Data</th></tr> 
           <tr id="emptyTargetRow"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr> 
       </table> 
       </div> 
</div> 
</body>
</html>